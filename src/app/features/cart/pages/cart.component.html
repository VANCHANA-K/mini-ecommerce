<div class="cart-container">
  <div class="cart-header">
    <h1>üõí ‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</h1>
    <div class="cart-summary">
      <span class="item-count">{{ cartService.itemCount }} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</span>
    </div>
  </div>

  @if (cartService.items.length === 0) {
    <div class="empty-cart">
      <div class="empty-icon">üõí</div>
      <h2>‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏ß‡πà‡∏≤‡∏á‡πÄ‡∏õ‡∏•‡πà‡∏≤</h2>
      <p>‡πÑ‡∏õ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ã‡∏∑‡πâ‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Å‡∏±‡∏ô‡πÄ‡∏ñ‡∏≠‡∏∞!</p>
      <button class="continue-shopping-btn" routerLink="/products">
        üõçÔ∏è ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ä‡πâ‡∏≠‡∏õ‡∏õ‡∏¥‡πâ‡∏á
      </button>
    </div>
  } @else {
    <div class="cart-content">
      <div class="cart-items">
        @for (item of cartService.items; track item.product.id) {
          <div class="cart-item">
            <div class="item-image">
              <img [src]="item.product.image" [alt]="item.product.title" />
            </div>
            
            <div class="item-details">
              <h3 class="item-title">{{ item.product.title }}</h3>
              <div class="item-category">{{ item.product.category }}</div>
              <div class="item-rating">
                <span class="stars">‚òÖ</span>
                <span>{{ item.product.rating.rate }}/5</span>
              </div>
            </div>

            <div class="item-price">
              <div class="unit-price">${{ item.product.price | number:'1.2-2' }}</div>
              <div class="total-price">${{ item.product.price * item.quantity | number:'1.2-2' }}</div>
            </div>

            <div class="quantity-controls">
              <button 
                class="quantity-btn" 
                (click)="decreaseQuantity(item.product.id)"
                [disabled]="item.quantity <= 1">
                ‚àí
              </button>
              <span class="quantity">{{ item.quantity }}</span>
              <button 
                class="quantity-btn" 
                (click)="increaseQuantity(item.product.id)">
                +
              </button>
            </div>

            <div class="item-actions">
              <button 
                class="remove-btn" 
                (click)="removeItem(item.product.id)"
                title="‡∏•‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤">
                üóëÔ∏è
              </button>
            </div>
          </div>
        }
      </div>

      <div class="cart-footer">
        <div class="cart-summary-section">
          <div class="summary-row">
            <span>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤:</span>
            <span>{{ cartService.itemCount }} ‡∏ä‡∏¥‡πâ‡∏ô</span>
          </div>
          <div class="summary-row total">
            <span>‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î:</span>
            <span class="total-amount">${{ cartService.total | number:'1.2-2' }}</span>
          </div>
        </div>

        <div class="cart-actions">
          <button 
            class="clear-btn" 
            (click)="clearCart()"
            [disabled]="cartService.items.length === 0">
            ‡πÄ‡∏Ñ‡∏•‡∏µ‡∏¢‡∏£‡πå‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤
          </button>
          <button 
            class="checkout-btn"
            routerLink="/checkout"
            [disabled]="cartService.items.length === 0">
            üí≥ ‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô
          </button>
        </div>
      </div>
    </div>
  }
</div>